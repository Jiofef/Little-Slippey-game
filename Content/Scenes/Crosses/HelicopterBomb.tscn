[gd_scene load_steps=7 format=3 uid="uid://bx32w5tx4u2sr"]

[ext_resource type="AudioStream" uid="uid://cceqrm4tkdmc2" path="res://Content/Sounds/Crosses/Explosion.mp3" id="2_gvc14"]
[ext_resource type="Script" path="res://Content/Scripts/Crosses/HelicopterBomb.cs" id="2_hrhph"]
[ext_resource type="PackedScene" uid="uid://bt41vubjcqv8p" path="res://Content/Scenes/Crosses/ExplosionAnimation.tscn" id="3_c65yf"]
[ext_resource type="Texture2D" uid="uid://0tt2fv11qvro" path="res://Content/Sprites/Crosses/HelicopterBomb.png" id="3_hirod"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c5ln7"]
size = Vector2(124, 64)

[sub_resource type="CircleShape2D" id="CircleShape2D_v6osl"]
radius = 75.0

[node name="HelicopterBomb" type="Node2D"]
z_index = 2
script = ExtResource("2_hrhph")

[node name="ExplosionSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_gvc14")
bus = &"CrossExplosion"

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(4, 4)
texture = ExtResource("3_hirod")

[node name="Hitbox" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(2, 0)
shape = SubResource("RectangleShape2D_c5ln7")
disabled = true

[node name="EnablingTimer" type="Timer" parent="Hitbox"]
wait_time = 0.5
autostart = true

[node name="ExplosiveArea" type="Area2D" parent="."]
collision_layer = 16
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="ExplosiveArea"]
shape = SubResource("CircleShape2D_v6osl")
disabled = true

[node name="ExplosionAnimation" parent="." instance=ExtResource("3_c65yf")]
scale = Vector2(3, 3)

[connection signal="body_entered" from="Hitbox" to="." method="Explosion" unbinds=1]
[connection signal="timeout" from="Hitbox/EnablingTimer" to="Hitbox/CollisionShape2D" method="set_disabled" flags=6 binds= [false]]
[connection signal="animation_finished" from="ExplosionAnimation" to="." method="queue_free" flags=6]
